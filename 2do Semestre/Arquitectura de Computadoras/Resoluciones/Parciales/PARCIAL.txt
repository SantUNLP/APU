CONT EQU 10H
COMP EQU 11H
PIC EQU 20H
EOI EQU 20H
IMR EQU 21H
INT1 EQU 25H
PA EQU 30H
PB EQU 31H
CA EQU 32H
CB EQU 33H
ID_CLK EQU 10

ORG 40
DW 3000H

ORG 3000H
ING_CAR:
INT 6
MOV DH, [BX]
CALL COMPARAR
MOV AL, 0
OUT CONT, AL
MOV AL, EOI
OUT EOI, AL
IRET

ORG 3500H
COMPARAR: 
CMP DH, 100
JS MENOR
CMP DH, 150
JNS MAYOR
JMP TERMINAR
MENOR:
MOV AL, 00000001B
OUT PB, AL
JMP TERMINAR
MAYOR: CMP DH, 150
JZ TERMINAR
MOV AL, 00000010B
OUT PB, AL
TERMINAR: RET


ORG 1000H
CAR DB ?
hola1 DB "ES MENOR"
hola2 DB "ES MAYOR"

ORG 2000H
MOV BX, OFFSET CAR
CLI
MOV AL, 00000000B
OUT CB, AL
MOV AL, 11111101B
OUT IMR, AL
MOV AL, ID_CLK
OUT INT1, AL
MOV AL, 5
OUT COMP, AL
MOV AL, 0
OUT CONT, AL
STI
LOOP: JMP LOOP
INT 0
END


